<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arduino STK: stk::UdpSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduino STK
   &#160;<span id="projectnumber">4.6.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestk.html">stk</a></li><li class="navelem"><a class="el" href="classstk_1_1UdpSocket.html">UdpSocket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classstk_1_1UdpSocket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stk::UdpSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>STK UDP socket server/client class.  
 <a href="classstk_1_1UdpSocket.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="UdpSocket_8h_source.html">UdpSocket.h</a>&gt;</code></p>

<p>Inherits Socket.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaad5171c74b4ab7c2155cd63ef30a271"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#aaad5171c74b4ab7c2155cd63ef30a271">UdpSocket</a> (int port=2006)</td></tr>
<tr class="memdesc:aaad5171c74b4ab7c2155cd63ef30a271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor creates a local UDP socket on port 2006 (or the specified port number).  <a href="classstk_1_1UdpSocket.html#aaad5171c74b4ab7c2155cd63ef30a271">More...</a><br /></td></tr>
<tr class="separator:aaad5171c74b4ab7c2155cd63ef30a271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b54f5d058c01c04dc266f117da7ee2a"><td class="memItemLeft" align="right" valign="top"><a id="a9b54f5d058c01c04dc266f117da7ee2a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a9b54f5d058c01c04dc266f117da7ee2a">~UdpSocket</a> ()</td></tr>
<tr class="memdesc:a9b54f5d058c01c04dc266f117da7ee2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The class destructor closes the socket instance. <br /></td></tr>
<tr class="separator:a9b54f5d058c01c04dc266f117da7ee2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4267442661257aae2a0f6b48d367fea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a4267442661257aae2a0f6b48d367fea1">setDestination</a> (int port=2006, std::string hostname=&quot;localhost&quot;)</td></tr>
<tr class="memdesc:a4267442661257aae2a0f6b48d367fea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the address for subsequent outgoing data sent via the <em><a class="el" href="classstk_1_1UdpSocket.html#aa9d3d734b4e9c811724eff626e849cb8" title="Send a buffer to the address specified with the setDestination() function. Returns the number of byte...">writeBuffer()</a></em> function.  <a href="classstk_1_1UdpSocket.html#a4267442661257aae2a0f6b48d367fea1">More...</a><br /></td></tr>
<tr class="separator:a4267442661257aae2a0f6b48d367fea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d3d734b4e9c811724eff626e849cb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#aa9d3d734b4e9c811724eff626e849cb8">writeBuffer</a> (const void *buffer, long bufferSize, int flags=0)</td></tr>
<tr class="memdesc:aa9d3d734b4e9c811724eff626e849cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a buffer to the address specified with the <em><a class="el" href="classstk_1_1UdpSocket.html#a4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function.">setDestination()</a></em> function. Returns the number of bytes written or -1 if an error occurs.  <a href="classstk_1_1UdpSocket.html#aa9d3d734b4e9c811724eff626e849cb8">More...</a><br /></td></tr>
<tr class="separator:aa9d3d734b4e9c811724eff626e849cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f66fdcc40b07f9d56e472be9684adcb"><td class="memItemLeft" align="right" valign="top"><a id="a1f66fdcc40b07f9d56e472be9684adcb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a1f66fdcc40b07f9d56e472be9684adcb">readBuffer</a> (void *buffer, long bufferSize, int flags=0)</td></tr>
<tr class="memdesc:a1f66fdcc40b07f9d56e472be9684adcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an input buffer, up to length <em>bufferSize</em>. Returns the number of bytes read or -1 if an error occurs. <br /></td></tr>
<tr class="separator:a1f66fdcc40b07f9d56e472be9684adcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f74161d2d3697593f08bda9dcb8963"><td class="memItemLeft" align="right" valign="top"><a id="a85f74161d2d3697593f08bda9dcb8963"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a85f74161d2d3697593f08bda9dcb8963">writeBufferTo</a> (const void *buffer, long bufferSize, int port, std::string hostname=&quot;localhost&quot;, int flags=0)</td></tr>
<tr class="memdesc:a85f74161d2d3697593f08bda9dcb8963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a buffer to the specified socket. Returns the number of bytes written or -1 if an error occurs. <br /></td></tr>
<tr class="separator:a85f74161d2d3697593f08bda9dcb8963"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a785594fd882b76d4c280b72a016f026d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a785594fd882b76d4c280b72a016f026d">setAddress</a> (struct sockaddr_in *address, int port=2006, std::string hostname=&quot;localhost&quot;)</td></tr>
<tr class="memdesc:a785594fd882b76d4c280b72a016f026d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A protected function for use in writing a socket address structure.  <a href="classstk_1_1UdpSocket.html#a785594fd882b76d4c280b72a016f026d">More...</a><br /></td></tr>
<tr class="separator:a785594fd882b76d4c280b72a016f026d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>STK UDP socket server/client class. </p>
<p>This class provides a uniform cross-platform UDP socket server/client interface. Methods are provided for reading or writing data buffers. The constructor creates a UDP socket and binds it to the specified port. Note that only one socket can be bound to a given port on the same machine.</p>
<p>UDP sockets provide unreliable, connection-less service. Messages can be lost, duplicated, or received out of order. That said, data transmission tends to be faster than with TCP connections and datagrams are not potentially combined by the underlying system.</p>
<p>The user is responsible for checking the values returned by the read/write methods. Values less than or equal to zero indicate the occurence of an error.</p>
<p>by Perry R. Cook and Gary P. Scavone, 1995&ndash;2019. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaad5171c74b4ab7c2155cd63ef30a271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad5171c74b4ab7c2155cd63ef30a271">&#9670;&nbsp;</a></span>UdpSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stk::UdpSocket::UdpSocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>2006</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor creates a local UDP socket on port 2006 (or the specified port number). </p>
<p>An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if a socket error occurs during instantiation. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4267442661257aae2a0f6b48d367fea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4267442661257aae2a0f6b48d367fea1">&#9670;&nbsp;</a></span>setDestination()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stk::UdpSocket::setDestination </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>2006</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>hostname</em> = <code>&quot;localhost&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the address for subsequent outgoing data sent via the <em><a class="el" href="classstk_1_1UdpSocket.html#aa9d3d734b4e9c811724eff626e849cb8" title="Send a buffer to the address specified with the setDestination() function. Returns the number of byte...">writeBuffer()</a></em> function. </p>
<p>An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if the host is unknown. </p>

</div>
</div>
<a id="aa9d3d734b4e9c811724eff626e849cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9d3d734b4e9c811724eff626e849cb8">&#9670;&nbsp;</a></span>writeBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stk::UdpSocket::writeBuffer </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a buffer to the address specified with the <em><a class="el" href="classstk_1_1UdpSocket.html#a4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function.">setDestination()</a></em> function. Returns the number of bytes written or -1 if an error occurs. </p>
<p>This function will fail if the default address (set with <em><a class="el" href="classstk_1_1UdpSocket.html#a4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function.">setDestination()</a></em>) is invalid or has not been specified. </p>

</div>
</div>
<a id="a785594fd882b76d4c280b72a016f026d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785594fd882b76d4c280b72a016f026d">&#9670;&nbsp;</a></span>setAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stk::UdpSocket::setAddress </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr_in *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>2006</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>hostname</em> = <code>&quot;localhost&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A protected function for use in writing a socket address structure. </p>
<p>An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if the host is unknown. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="UdpSocket_8h_source.html">UdpSocket.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
